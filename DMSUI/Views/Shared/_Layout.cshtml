<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - DMSUI</title>

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/DMSUI.styles.css" asp-append-version="true" />
</head>

<body class="bg-light m-0 p-0 overflow-hidden">

    <header class="w-100">
        @await Component.InvokeAsync("_HeaderComponentPartial")
    </header>
    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["Success"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["Error"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }
    <div class="layout-wrapper">

        @await Component.InvokeAsync("_SideBarComponentPartial")
        <div class="col-lg-3">
            @await Component.InvokeAsync("_CategoryComponentPartial")
        </div>
        <main role="main" class="content-wrapper">
            @RenderBody()
        </main>

    </div>

@*     <footer class="footer border-top text-muted">
        @await Component.InvokeAsync("_FooterComponentPartial")
    </footer> *@

    @await Component.InvokeAsync("_ScriptComponentPartial")
    @await RenderSectionAsync("Scripts", required: false)

</body>
<script>
    document.addEventListener("DOMContentLoaded", function () {

        const sidebar = document.getElementById("sidebar");
        const toggleBtn = document.getElementById("navbarDmsToggle");

        if (!sidebar || !toggleBtn) return;

        toggleBtn.addEventListener("click", function () {

            if (sidebar.style.width === "0px") {
                sidebar.style.width = "260px";
            } else {
                sidebar.style.width = "0";
            }

        });
    });
</script>
</html>
